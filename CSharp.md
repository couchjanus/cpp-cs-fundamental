# C#
C# - это объектно-ориентированный и типобезопасный язык программирования. C# позволяет разработчикам создавать множество типов безопасных и надежных приложений, работающих в экосистеме .NET. C# берет свое начало в семействе языков C и будет  знаком программистам на C, C++, Java и JavaScript. 

C# - это объектно-ориентированный, компонентно-ориентированный язык программирования. C# предоставляет языковые конструкции для прямой поддержки этих концепций, что делает C# естественным языком для создания и использования программных компонентов. С момента своего появления в C# добавлены функции для поддержки новых рабочих нагрузок и новых практик разработки программного обеспечения.

Некоторые функции C# помогают создавать надежные и долговечные приложения. 
Сборка мусора автоматически освобождает память, занятую недоступными неиспользуемыми объектами. 
Обнуляемые типы защищают от переменных, которые не относятся к выделенным объектам. Обработка исключений обеспечивает структурированный и расширяемый подход к обнаружению и восстановлению ошибок. 
Лямбда-выражения поддерживают методы функционального программирования. 
Синтаксис Language Integrated Query (LINQ) создает общий шаблон для работы с данными из любого источника. 
Языковая поддержка асинхронных операций обеспечивает синтаксис для построения распределенных систем. 
C# имеет единую систему типов. Все типы C#, включая примитивные типы, такие как int и double, наследуются от одного корневого типа объекта. Все типы имеют набор общих операций. Значения любого типа могут храниться, транспортироваться и обрабатываться согласованным образом. Кроме того, C# поддерживает как определяемые пользователем ссылочные типы, так и типы значений. 
C# позволяет динамическое размещение объектов и оперативное хранение легких структур. 
C# поддерживает общие методы и типы, которые обеспечивают повышенную безопасность типов и производительность. 
C# предоставляет итераторы, которые позволяют разработчикам классов коллекций определять настраиваемое поведение для клиентского кода.

C# делает упор на управление версиями, чтобы программы и библиотеки могли развиваться со временем совместимым образом. Аспекты дизайна C#, на которые непосредственно повлияли соображения управления версиями, включают отдельные виртуальные модификаторы и модификаторы переопределения, правила разрешения перегрузки методов и поддержку явных объявлений членов интерфейса.

## .NET архитектура
Программы C# выполняются в .NET, виртуальной исполнительной системе, называемой общеязыковой средой выполнения (CLR), и наборе библиотек классов. CLR - это реализация Microsoft общей языковой инфраструктуры (CLI), международного стандарта. Интерфейс командной строки является основой для создания сред выполнения и разработки, в которых языки и библиотеки безупречно взаимодействуют друг с другом.

Исходный код, написанный на C#, компилируется на промежуточный язык (IL), который соответствует спецификации CLI. Код и ресурсы IL, такие как растровые изображения и строки, хранятся в сборке, обычно с расширением .dll. Сборка содержит манифест, который предоставляет информацию о типах, версии и культуре сборки.

Когда программа C# выполняется, сборка загружается в CLR. CLR выполняет JIT-компиляцию для преобразования кода IL в собственные машинные инструкции. CLR предоставляет другие службы, связанные с автоматической сборкой мусора, обработкой исключений и управлением ресурсами. Код, выполняемый CLR, иногда называют «управляемым кодом», в отличие от «неуправляемого кода», который компилируется на машинный язык, предназначенный для конкретной платформы.

Совместимость языков - ключевая особенность .NET. Код IL, созданный компилятором C#, соответствует спецификации Common Type Specification (CTS). Код IL, сгенерированный на C#, может взаимодействовать с кодом, созданным на основе .NET-версий F#, Visual Basic, C++ или любого из более чем 20 других CTS-совместимых языков. Одна сборка может содержать несколько модулей, написанных на разных языках .NET, и типы могут ссылаться друг на друга, как если бы они были написаны на одном языке.

Помимо служб времени выполнения, .NET также включает обширные библиотеки. Эти библиотеки поддерживают множество различных рабочих нагрузок. Они организованы в пространства имен, которые обеспечивают широкий спектр полезных функций для всего: от ввода и вывода файлов до обработки строк и синтаксического анализа XML, от фреймворков веб-приложений до элементов управления Windows Forms. Типичное приложение C# широко использует библиотеку классов .NET для выполнения обычных «сантехнических» работ.


## Программа «Hello, World»:

```cs

using System;

class Hello
{
    static void Main()
    {
        Console.WriteLine("Hello, World");
    }
}
```
Программа «Hello, World» начинается с директивы using, которая ссылается на пространство имен System. Пространства имен предоставляют иерархические средства организации программ и библиотек C#. Пространства имен содержат типы и другие пространства имен - например, пространство имен System содержит ряд типов, таких как класс Console, на который имеется ссылка в программе, и ряд других пространств имен, таких как IO и Collections. 

Директива using, которая ссылается на заданное пространство имен, позволяет  использовать типы, которые являются членами этого пространства имен. Из-за директивы using программа может использовать Console.WriteLine как сокращение для System.Console.WriteLine.

Класс Hello, объявленный программой «Hello, World», имеет единственный член - метод с именем Main. Метод Main объявлен с модификатором static. Хотя методы экземпляра могут ссылаться на конкретный экземпляр включающего объекта с помощью ключевого слова this, статические методы работают без ссылки на конкретный объект. По соглашению статический метод с именем Main служит точкой входа в программу C#.

Вывод программы производится методом WriteLine класса Console в пространстве имен System. Этот класс предоставляется стандартными библиотеками классов, на которые по умолчанию автоматически ссылается компилятор.

## Типы и переменные
В C# есть два типа типов: типы значений и ссылочные типы. 
Переменные типов значений напрямую содержат свои данные. 
Переменные ссылочных типов хранят ссылки на свои данные, последние известны как объекты. С ссылочными типами две переменные могут ссылаться на один и тот же объект, а операции с одной переменной могут влиять на объект, на который ссылается другая переменная. С типами значений каждая переменная имеет свою собственную копию данных, и операции с одной из них не могут повлиять на другую (за исключением переменных параметров ref и out).

Идентификатор - это имя переменной. Идентификатор - это последовательность символов Юникода без пробелов. Идентификатор может быть зарезервированным словом C#, если перед ним стоит префикс @. Использование зарезервированного слова в качестве идентификатора может быть полезно при взаимодействии с другими языками.

Типы значений C# далее делятся на простые типы, типы перечислений, типы структур, типы значений, допускающие значение NULL, и типы значений кортежей. Ссылочные типы C# далее делятся на типы классов, типы интерфейсов, типы массивов и типы делегатов.

## Система типов C#
Система типов C# унифицирована, так что значение любого типа можно рассматривать как объект. Каждый тип в C# прямо или косвенно является производным от типа класса объекта, а объект является окончательным базовым классом всех типов. Значения ссылочных типов обрабатываются как объекты, просто просматривая значения как объект типа. Значения типов значений обрабатываются как объекты путем выполнения операций упаковки и распаковки. В следующем примере значение int преобразуется в object и снова в int.
```cs
int i = 123;
object o = i;    // Boxing
int j = (int)o;  // Unboxing

```
Когда значение типа значения присваивается объектной ссылке, для хранения значения выделяется блок. Это поле является экземпляром ссылочного типа, и значение копируется в это поле. И наоборот, когда ссылка на объект приводится к типу значения, выполняется проверка того, является ли объект, на который указывает ссылка, блоком правильного типа значения. Если проверка прошла успешно, значение в поле копируется в тип значения.

Унифицированная система типов C# фактически означает, что типы значений обрабатываются как объектные ссылки по запросу. Благодаря унификации библиотеки общего назначения, использующие объект типа, могут использоваться со всеми типами, производными от объекта, включая как ссылочные типы, так и типы значений.


## Методы
Метод - это член, реализующий вычисление или действие, которое может быть выполнено объектом или классом. Доступ к статическим методам осуществляется через класс. Доступ к методам экземпляра осуществляется через экземпляры класса.

Методы могут иметь список параметров, которые представляют значения или ссылки на переменные, передаваемые в метод. У методов есть возвращаемый тип, который указывает тип значения, вычисляемого и возвращаемого методом. Тип возврата метода недействителен, если он не возвращает значение.

Подобно типам, методы могут также иметь набор параметров типа, для которых должны быть указаны аргументы типа при вызове метода. В отличие от типов, аргументы типа часто можно вывести из аргументов вызова метода, и их не нужно указывать явно.

Сигнатура метода должна быть уникальной в классе, в котором объявлен метод. Сигнатура метода состоит из имени метода, количества параметров типа, а также количества, модификаторов и типов его параметров. Сигнатура метода не включает возвращаемый тип.

## Параметры
Параметры используются для передачи значений или ссылок на переменные методам. Параметры метода получают свои фактические значения из аргументов, которые указываются при вызове метода. Существует четыре вида параметров: параметры значения, параметры ссылки, параметры вывода и массивы параметров.

Параметр значения используется для передачи входных аргументов. Параметр значения соответствует локальной переменной, которая получает свое начальное значение из аргумента, переданного для параметра. Изменения параметра значения не влияют на аргумент, переданный для параметра.

Параметры значения могут быть необязательными, если указать значение по умолчанию, чтобы можно было опустить соответствующие аргументы.

Ссылочный параметр используется для передачи аргументов по ссылке. Аргумент, передаваемый для ссылочного параметра, должен быть переменной с определенным значением. Во время выполнения метода ссылочный параметр представляет то же место хранения, что и переменная аргумента. Ссылочный параметр объявляется с модификатором ref. В следующем примере показано использование параметров ref.
```cs
static void Swap(ref int x, ref int y)
{
    int temp = x;
    x = y;
    y = temp;
}

public static void SwapExample()
{
    int i = 1, j = 2;
    Swap(ref i, ref j);
    Console.WriteLine($"{i} {j}");    // "2 1"
}
```
Выходной параметр используется для передачи аргументов по ссылке. Он похож на ссылочный параметр, за исключением того, что не требует явного присвоения значения аргументу, предоставленному вызывающей стороной. Выходной параметр объявляется с модификатором out. В следующем примере показано использование выходных параметров с использованием синтаксиса, представленного в C#.

```cs


static void Divide(int x, int y, out int result, out int remainder)
{
    result = x / y;
    remainder = x % y;
}

public static void OutUsage()
{
    Divide(10, 3, out int res, out int rem);
    Console.WriteLine($"{res} {rem}");  // "3 1"
}
```
